<!DOCTYPE html>
<html lang="es" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${titulo}">titulo</title>
    <title>Peluqueria</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <!-- Box Icons -->
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>

    <!-- DataTable CSS -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.7/css/jquery.dataTables.css" />

    <!-- JQuery UI CSS -->
    <link rel="stylesheet" href="//code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/static/css/pdv.css">

</head>

<body>
    <!-- Barra de Navegación -->
    <nav class="navbar navbar-expand-sm navbar-dark" style="background-color: darkorchid;">
        <div class="container-fluid">
            <a class="navbar-brand ms-1" style="display: inline-flex;" href="/">
                <img src="/img/card-oferta-horizontal.jpg" alt="Logotipo" height="50">
                <span th:text="'Sistema PDV'" class="navlink active text-responsive text-light mt-2 ms-2">Punto de
                    Venta</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="/index">
                            Dashboard
                        </a>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                            aria-expanded="false">
                            Acciones
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a class="dropdown-item" href="/citas/lista" >Citas</a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="/servicios/lista">Servicios</a>
                            </li>
                            <li>
                                <hr class="dropdown-divider">
                            </li>
                            <li>
                                <a class="dropdown-item" href="/horarios/lista">Horarios</a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="/usuarios/lista">Usuarios</a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a id="user-link" class="nav-link dropdown-toggle" data-bs-toggle="dropdown"
                            aria-expanded="false" role="button">
                            <span>Hola </span>
                            <!-- <span sec:authentication="name"></span>
                            <span sec:authentication="principal.authorities"></span> -->
                            <span>Usuario</span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="user-link">
                            <li>
                                <a class="dropdown-item" href="/usuarios/perfil">Mi Perfil</a>
                                <a class="dropdown-item" href="#">Configuraciones</a>
                                <span class="dropdown-divider"></span>
                                <form id="logoutForm" action="/logout">
                                    <!--<a class="dropdown-item" href="#" onclick="$('#logoutForm').submit();">Cerrar Sesión</a>-->
                                    <button class="dropdown-item" type="submit">Cerrar Sesión</button>
                                </form>
                            </li>
                        </ul>
                    </li>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Mensajes  -->
    <div class="alert alert-success alert-dismissible fade show" role="alert" th:if="${success != null}">
        <i class="bx bxs-info-circle bx-tada"></i>
        &nbsp;
        <span th:text="${success}"></span>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    <div class="alert alert-warning alert-dismissible fade show" role="alert" th:if="${warning != null}">
        <i class="bx bxs-message-dots bx-tada"></i>
        &nbsp;
        <span th:text="${warning}"></span>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    <div class="alert alert-danger alert-dismissible fade show" role="alert" th:if="${danger != null}">
        <i class="bx bxs-trash bx-tada"></i>
        &nbsp;
        <span th:text="${danger}"></span>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    <div class="alert alert-info alert-dismissible fade show" role="alert" th:if="${info != null}">
        <i class="bx bxs-info-circle bx-tada"></i>
        &nbsp;
        <span th:text="${info}"></span>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>


    <!-- Contenido -->
    <div layout:fragment="contenido">
        ...
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <!-- JQuery 3.7.1 -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

    <!-- JQuery Mask -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.min.js"></script>

    <!-- DataTable JS -->
    <script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.js"></script>

    <!-- JQuery UI JS -->
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>

    <!-- SweetAlert 2.11.7 JS -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!-- Sección que contendrá los scripts de las paginas hijas-->
    <script th:replace="::js"></script>

    <script>
        setInterval("cerrar()", 5000);

        // Close the alert by sliding it up and hiding it after a delay.
        const cerrar = () => {
            $('.alert').delay(500).slideUp(500, () => {
                $(this).hide();
            });
        }
    </script>
</body>

</html>